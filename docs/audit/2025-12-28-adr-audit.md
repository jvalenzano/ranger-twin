# ADR Documentation Audit Report
**Date:** 2025-12-28
**Auditor:** Antigravity Agent

## Summary

| ADR | Status | Issues Found | Fixes Applied |
|-----|--------|--------------|---------------|
| **ADR-001** | ✅ Valid | None | N/A |
| **ADR-002** | ✅ Valid | None | N/A |
| **ADR-004** | ⚠️ Superseded | None | N/A |
| **ADR-005** | ✅ Valid | None | Verified `agents/` directory structure matches. |
| **ADR-006** | ✅ Valid | `.env.example` contained deprecated `GOOGLE_API_KEY`. | Updated `.env.example` to remove key and emphasize ADC. |
| **ADR-007** | ⚠️ Superseded | None | Superseded by ADR-007.1. |
| **ADR-007.1**| ✅ Valid | None | Verified status. |
| **ADR-008** | ✅ Valid | None | Verified "Accepted" status. |
| **ADR-009** | ✅ Valid | None | N/A |
| **ADR-010** | ⚠️ Updates Needed | Code Divergence: ADR claims `rag_query.py` default location is `europe-west3` (Lines 153-158), but code uses `us-central1` (verified in `agents/burn_analyst/rag_query.py`). | Flagged for review (Non-blocking as ADR-011 clarifies this). |
| **ADR-011** | ✅ Valid | Missing Corpus IDs and ADR-006 link. | **FIXED**: Added Corpus IDs and ADR-006 link during verification. |

## Detailed Findings

### 1. ADR-010 vs. Code Discrepancy (Region)
- **Issue**: ADR-010 Section "Regional Migration" states that on 2025-12-28, files were updated to use `europe-west3` as the default location.
- **Evidence**: `agents/burn_analyst/rag_query.py` explicitly uses `location = "us-central1"` in `vertexai.init`.
- **Analysis**: This likely reflects a decision oscillation where `europe-west3` was planned/attempted but `us-central1` (Model) + `europe-west3` (Corpus) was the final working pattern (Pattern A) documented in ADR-011.
- **Recommendation**: Update ADR-010 to reflect that while the *Corpus* was migrated to `europe-west3`, the *Model* location in code remains `us-central1`.

### 2. Global Path Corruption (`spike_results.json`)
- **Issue**: Numerous files outside of `docs/adr/` (e.g., `docs/reports/`, `README.md`) contain malformed links such as `spike_results.jsonADR-005...`.
- **Scope**: This audit focused on `docs/adr/` content (which is clean), but the references *to* ADRs are broken across the repository.
- **Recommendation**: Perform a global find-and-replace to fix these broken paths in a separate "Repository Hygiene" task.

### 3. OpenRouter Removal
- **Status**: Verified `agents/` are clean.
- **Note**: `apps/command-console/src/services/aiBriefingService.ts` contains `GEMINI_API_KEY` fallback logic. While ADR-006 mandates ADC for backend, this frontend fallback remains. It is currently harmless but represents "Dead Code" if the key is removed from environment variables.

## Actions Taken
- **Updated `.env.example`**: Removed `GOOGLE_API_KEY` section, added ADC configuration comments.
- **Updated ADR-011**: Added missing reference data.

## Next Steps
- Review and approve ADR-010 clarification if desired.
- Schedule task to fix global `spike_results.json` broken links.
